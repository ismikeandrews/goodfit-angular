<section class="create-vagas">
    <div class="wrapper">
        <div class="header">
            <h1 class="title">Cadastro de vagas</h1>
        </div>
        
        <div class="content">
            <mat-horizontal-stepper class="container">
                <mat-step>
                    <div>
                        <ng-template matStepLabel>Profissão</ng-template>
                        <form>
                            <div class="create-vaga__bloco">
                                <div class="create-vaga__bloco-info">
                                    <h2 class="create-vaga__bloco-info-title">
                                        Profissão
                                    </h2>

                                    <p class="create-vaga__bloco-info-desc">
                                        Selecione a categoria e a profissão a qual sua vaga pertence.
                                    </p>
                                </div>

                                <div class="create-vaga__container-select">
                                    <div class="create-vaga__select">
                                        <div class="create-vaga__select-text" (click)="openCategorias()">
                                            Categoria
                                        </div>
                                        <div class="create-vaga__select-options options-categorias">
                                            <div *ngFor="let categoria of categorias" class="create-vaga__select-options-item" (click)="setCategoria(categoria.codCategoria)">
                                                <img src="../../../assets/images/icones/profissao/{{categoria.imagemCategoria}}">
                                                <p> {{categoria.nomeCategoria}} </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="create-vaga__select">
                                        <div *ngIf="! hasCategoriaSelecionada()" class="create-vaga__select-text" style="font-size: 14px">
                                            Selecione uma categoria
                                        </div>
                                        <div *ngIf="hasCategoriaSelecionada()" class="create-vaga__select-text" (click)="openProfissoes()">
                                            Profissão
                                        </div>
                                        <div class="create-vaga__select-options options-profissao">
                                            <div *ngFor="let profissao of profissoes" class="create-vaga__select-options-item" (click)="vagaModel.setProfissao(profissao.codProfissao)">
                                                <p> {{profissao.nomeProfissao}} </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="create-vaga__bloco">
                                <div class="create-vaga__bloco-info">
                                    <h2 class="create-vaga__bloco-info-title">
                                        Regime de Contratação
                                    </h2>

                                    <p class="create-vaga__bloco-info-desc">
                                        Selecione qual regime de contratação.
                                    </p>
                                </div>

                                <div class="create-vaga__container-select">
                                    <div class="create-vaga__select">
                                        <div class="create-vaga__select-text" (click)="openRegimes()">
                                            Regime de Contratação
                                        </div>
                                        <div class="create-vaga__select-options options-regime">
                                            <div *ngFor="let regime of regimes" class="create-vaga__select-options-item" (click)="vagaModel.setRegimeContratacao(regime.codRegimeContratacao)">
                                                <p> {{regime.nomeRegimeContratacao}} </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="create-vaga__bloco">
                                <div class="create-vaga__bloco-info">
                                    <h2 class="create-vaga__bloco-info-title">
                                        Benefícios
                                    </h2>

                                    <p class="create-vaga__bloco-info-desc">
                                        Adicione quais benefícios sua vaga irá possuir.
                                        <br> Você pode adicionar quantos quiser!
                                    </p>
                                </div>

                                <div class="create-vaga__add-input">
                                    <input type="text" class="create-vaga__add-input-input js-input-beneficio" (keyup)="setBeneficio($event)">
                                    <button class="create-vaga__add-input-button" (click)="adicionaBeneficio()"> + </button>
                                </div>

                                <div class="create-vaga__beneficios-list">
                                    <div *ngFor="let beneficio of beneficios" class="create-vaga__beneficios-list-item">
                                        {{beneficio.nomeBeneficio}}

                                        <button class="create-vaga__beneficios-list-item-remove" (click)="removeBeneficio(beneficio.nomeBeneficio)"></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        
                        <button mat-button matStepperNext>Próximo</button>
                    </div>
                </mat-step>
                
                <mat-step>
                    <ng-template matStepLabel>Descrição</ng-template>
                    <div class="create-vaga__bloco">
                        <div class="create-vaga__bloco-info">
                            <h2 class="create-vaga__bloco-info-title">
                                Descrição
                            </h2>

                            <p class="create-vaga__bloco-info-desc">
                                Nos conte um pouco sobre a sua vaga!
                            </p>
                        </div>

                        <app-description-box></app-description-box>

                        <div class="create-vaga__input-container">
                            <div class="create-vaga__input">
                                <label class="create-vaga__input-label"> Salário </label>
                                <input type="text" class="create-vaga__input-item" (keyup)="setSalario($event)">
                            </div>

                            <div class="create-vaga__input">
                                <label class="create-vaga__input-label">
                                    Carga Horária
                                    <span class="create-vaga__input-label-obs"> (Especifique se por semana/mês) </span>
                                </label>
                                <input type="text" class="create-vaga__input-item" (keyup)="setCargaHoraria($event)">
                            </div>
                        </div>

                        <div class="create-vaga__input">
                            <label class="create-vaga__input-label"> Quantidade </label>
                            <input type="number" class="create-vaga__input-item" (keyup)="setQuantidade($event)">
                        </div>
                    </div>

                    <div>
                        <button mat-button matStepperPrevious class="btn-prev">Voltar</button>
                        <button mat-button matStepperNext>Próximo</button>
                    </div>
                </mat-step>
                
                <mat-step>
                    <ng-template matStepLabel>Requisitos</ng-template>
                    <form>
                        <div class="requisitos__description">Ter, no mínimo...</div>
                        <mat-form-field class="quarter-width" appearance="outline">
                            <mat-label>
                                <div class="requisito__name">
                                    <div class="requisito__img">
                                        <img src="../../../assets/images/icones/requisitos/escolaridade.png" class="requisito__img-icon">
                                    </div>
                                    Escolaridade
                                </div>
                            </mat-label>
                            <mat-select required [(ngModel)]="selectedEsclr" name="escolaridade">
                                <mat-option *ngFor="let escolaridade of escolaridadeList" [value]="escolaridade">
                                    {{ escolaridade.nomeAdicional }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field class="quarter-width" appearance="outline">
                            <mat-label>
                                <div class="requisito__name">
                                    <div class="requisito__img">
                                        <img src="../../../assets/images/icones/requisitos/alfabetizacao.png" class="requisito__img-icon">
                                    </div>
                                    Alfabetização
                                </div>
                            </mat-label>
                            <mat-select required [(ngModel)]="selectedAlf" name="alfabetizacao">
                                <mat-option *ngFor="let alfabetizacao of alfabetizacaoList" [value]="alfabetizacao">
                                    {{ alfabetizacao.nomeAdicional }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        
                        <div class="requisitos__description requisitos__description--habilidade">Ser bom em...</div>
                        <div class="habilidades">
                            <div class="habilidade" *ngFor="let habilidade of habilidadeList">
                                <input type="checkbox" class="d-none input-requisito" id="{{ habilidade.codAdicional }}" name="{{ habilidade.nomeAdicional }}" [value]="habilidade.codAdicional"  [(ngModel)]="habilidade.checked">
                                <label for="{{ habilidade.codAdicional }}" class="habilidade__icon">
                                    <img src="../../../assets/images/icones/habilidades/{{ habilidade.imagemAdicional }}">
                                    {{ habilidade.nomeAdicional }}
                                </label>
                                <mat-checkbox class="requisito__obrigatorio" id="{{ habilidade.codAdicional }}" name="{{ habilidade.codAdicional }}" [(ngModel)]="habilidade.obridatorio" [disabled]="habilidade.checked === false">Obrigatório</mat-checkbox>
                            </div>
                        </div>
                    </form>
                    <div>
                        <button mat-button matStepperPrevious class="btn-prev">Voltar</button>
                        <button mat-button matStepperNext>Próximo</button>
                    </div>
                </mat-step>
                
                <mat-step>
                    <ng-template matStepLabel>Localização</ng-template>
                    <div class="create-vaga__bloco">
                        <div class="create-vaga__bloco-info">
                            <h2 class="create-vaga__bloco-info-title">
                                Endereço
                            </h2>

                            <p class="create-vaga__bloco-info-desc">
                                Onde a vaga está localizada?
                            </p>
                        </div>

                        <div class="create-vaga__checkbox">
                            <input type="checkbox" id="create-vaga-endereco-empresa" (change)="getEnderecoEmpresa($event.target.checked)">
                            <label for="create-vaga-endereco-empresa"> Utilizar endereço da empresa </label>
                        </div>

                        <div class="create-vaga__input">
                            <label class="create-vaga__input-label"> CEP </label>
                            <input type="number" class="create-vaga__input-item" (keyup)="searchLocation($event.target.value)" value="{{enderecoModel.cepEndereco}}">
                        </div>

                        <div class="create-vaga__input-container">
                            <div class="create-vaga__input">
                                <label class="create-vaga__input-label"> Logradouro </label>
                                <input type="text" class="create-vaga__input-item create-vaga__input-item--readonly" value="{{enderecoModel.logradouroEndereco}}" readonly>
                            </div>

                            <div class="create-vaga__input">
                                <label class="create-vaga__input-label"> Número </label>
                                <input type="text" class="create-vaga__input-item"  value="{{enderecoModel.numeroEndereco}}" (keyup)="enderecoModel.setNumero($event.target.value)">
                            </div>
                        </div>

                        <div class="create-vaga__input">
                            <label class="create-vaga__input-label"> Complemento </label>
                            <input type="text" class="create-vaga__input-item" value="{{enderecoModel.complementoEndereco}}" (keyup)="enderecoModel.setComplemento($event.target.value)">
                        </div>

                        <div class="create-vaga__input-container">
                            <div class="create-vaga__input">
                                <label class="create-vaga__input-label"> Bairro </label>
                                <input type="text" class="create-vaga__input-item create-vaga__input-item--readonly" value="{{enderecoModel.bairroEndereco}}" readonly>
                            </div>

                            <div class="create-vaga__input">
                                <label class="create-vaga__input-label"> Cidade </label>
                                <input type="text" class="create-vaga__input-item create-vaga__input-item--readonly" value="{{enderecoModel.cidadeEndereco}}" readonly>
                            </div>
                        </div>
                    </div>
                    <div>
                        <button mat-button matStepperPrevious class="btn-prev">Voltar</button>
                        <button mat-button (click)="submit()">Cadastrar</button>
                    </div>
                </mat-step>
            </mat-horizontal-stepper>
        </div>
    </div>
</section>
